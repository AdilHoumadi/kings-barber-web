import{c as T,j as e,X as q,P as Q,r as g,a as S,u as Je}from"./index-CU1PEpKD.js";import{u as P,L as Ke}from"./LanguageSwitcher-BHdtV6x6.js";import{C as E}from"./calendar-DN2fjqxZ.js";import{t as ye,b as Ae,c as et,m as Le,d as We,e as he,g as B,h as X,i as tt,r as J,f as D,C as ne,a as Ue,D as Oe,L as st}from"./style-TVCaLU6T.js";import{C as O}from"./clock-CVczIy1h.js";import{C as Ee,U as we}from"./user-Bowkqtcg.js";import{C as Te}from"./circle-check-big-oG4O96Dg.js";import{M as ze,a as at}from"./map-pin-DFRh5xid.js";const rt=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],lt=T("calendar-check",rt);const nt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Me=T("circle-alert",nt);const it=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ot=T("circle-x",it);const dt=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ct=T("dollar-sign",dt);const xt=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ne=T("eye",xt);const mt=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ht=T("funnel",mt);const ut=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ve=T("globe",ut);const gt=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Re=T("layout-grid",gt);const ft=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],ke=T("list",ft);const pt=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bt=T("log-out",pt);const yt=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ie=T("message-square",yt);const wt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Nt=T("plus",wt);const jt=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vt=T("refresh-cw",jt);const kt=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Dt=T("rotate-ccw",kt);const Tt=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Mt=T("save",Tt);const Ct=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],St=T("search",Ct);const $t=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_t=T("settings",$t);const It=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],De=T("smartphone",It);function Ze(t){return+ye(t)<Date.now()}function Yt(t,s,a){return Ae(t,-1,a)}function U(t,s){const a=()=>et(s?.in,NaN),l=At(t);let n;if(l.date){const c=Lt(l.date,2);n=Wt(c.restDateString,c.year)}if(!n||isNaN(+n))return a();const i=+n;let o=0,x;if(l.time&&(o=Ut(l.time),isNaN(o)))return a();if(l.timezone){if(x=Ot(l.timezone),isNaN(x))return a()}else{const c=new Date(i+o),y=ye(0,s?.in);return y.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),y.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),y}return ye(i+o+x,s?.in)}const le={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Pt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ft=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ht=/^([+-])(\d{2})(?::?(\d{2}))?$/;function At(t){const s={},a=t.split(le.dateTimeDelimiter);let r;if(a.length>2)return s;if(/:/.test(a[0])?r=a[0]:(s.date=a[0],r=a[1],le.timeZoneDelimiter.test(s.date)&&(s.date=t.split(le.timeZoneDelimiter)[0],r=t.substr(s.date.length,t.length))),r){const l=le.timezone.exec(r);l?(s.time=r.replace(l[1],""),s.timezone=l[1]):s.time=r}return s}function Lt(t,s){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+s)+"})|(\\d{2}|[+-]\\d{"+(2+s)+"})$)"),r=t.match(a);if(!r)return{year:NaN,restDateString:""};const l=r[1]?parseInt(r[1]):null,n=r[2]?parseInt(r[2]):null;return{year:n===null?l:n*100,restDateString:t.slice((r[1]||r[2]).length)}}function Wt(t,s){if(s===null)return new Date(NaN);const a=t.match(Pt);if(!a)return new Date(NaN);const r=!!a[4],l=G(a[1]),n=G(a[2])-1,i=G(a[3]),o=G(a[4]),x=G(a[5])-1;if(r)return Vt(s,o,x)?Et(s,o,x):new Date(NaN);{const c=new Date(0);return!Rt(s,n,i)||!Zt(s,l)?new Date(NaN):(c.setUTCFullYear(s,n,Math.max(l,i)),c)}}function G(t){return t?parseInt(t):1}function Ut(t){const s=t.match(Ft);if(!s)return NaN;const a=ue(s[1]),r=ue(s[2]),l=ue(s[3]);return qt(a,r,l)?a*Le+r*We+l*1e3:NaN}function ue(t){return t&&parseFloat(t.replace(",","."))||0}function Ot(t){if(t==="Z")return 0;const s=t.match(Ht);if(!s)return 0;const a=s[1]==="+"?-1:1,r=parseInt(s[2]),l=s[3]&&parseInt(s[3])||0;return Bt(r,l)?a*(r*Le+l*We):NaN}function Et(t,s,a){const r=new Date(0);r.setUTCFullYear(t,0,4);const l=r.getUTCDay()||7,n=(s-1)*7+a+1-l;return r.setUTCDate(r.getUTCDate()+n),r}const zt=[31,null,31,30,31,30,31,31,30,31,30,31];function Ve(t){return t%400===0||t%4===0&&t%100!==0}function Rt(t,s,a){return s>=0&&s<=11&&a>=1&&a<=(zt[s]||(Ve(t)?29:28))}function Zt(t,s){return s>=1&&s<=(Ve(t)?366:365)}function Vt(t,s,a){return s>=1&&s<=53&&a>=0&&a<=6}function qt(t,s,a){return t===24?s===0&&a===0:a>=0&&a<60&&s>=0&&s<60&&t>=0&&t<25}function Bt(t,s){return s>=0&&s<=59}const Xt={lessThanXSeconds:{one:"أقل من ثانية",two:"أقل من ثانيتين",threeToTen:"أقل من {{count}} ثواني",other:"أقل من {{count}} ثانية"},xSeconds:{one:"ثانية واحدة",two:"ثانيتان",threeToTen:"{{count}} ثواني",other:"{{count}} ثانية"},halfAMinute:"نصف دقيقة",lessThanXMinutes:{one:"أقل من دقيقة",two:"أقل من دقيقتين",threeToTen:"أقل من {{count}} دقائق",other:"أقل من {{count}} دقيقة"},xMinutes:{one:"دقيقة واحدة",two:"دقيقتان",threeToTen:"{{count}} دقائق",other:"{{count}} دقيقة"},aboutXHours:{one:"ساعة واحدة تقريباً",two:"ساعتين تقريبا",threeToTen:"{{count}} ساعات تقريباً",other:"{{count}} ساعة تقريباً"},xHours:{one:"ساعة واحدة",two:"ساعتان",threeToTen:"{{count}} ساعات",other:"{{count}} ساعة"},xDays:{one:"يوم واحد",two:"يومان",threeToTen:"{{count}} أيام",other:"{{count}} يوم"},aboutXWeeks:{one:"أسبوع واحد تقريبا",two:"أسبوعين تقريبا",threeToTen:"{{count}} أسابيع تقريبا",other:"{{count}} أسبوعا تقريبا"},xWeeks:{one:"أسبوع واحد",two:"أسبوعان",threeToTen:"{{count}} أسابيع",other:"{{count}} أسبوعا"},aboutXMonths:{one:"شهر واحد تقريباً",two:"شهرين تقريبا",threeToTen:"{{count}} أشهر تقريبا",other:"{{count}} شهرا تقريباً"},xMonths:{one:"شهر واحد",two:"شهران",threeToTen:"{{count}} أشهر",other:"{{count}} شهرا"},aboutXYears:{one:"سنة واحدة تقريباً",two:"سنتين تقريبا",threeToTen:"{{count}} سنوات تقريباً",other:"{{count}} سنة تقريباً"},xYears:{one:"سنة واحد",two:"سنتان",threeToTen:"{{count}} سنوات",other:"{{count}} سنة"},overXYears:{one:"أكثر من سنة",two:"أكثر من سنتين",threeToTen:"أكثر من {{count}} سنوات",other:"أكثر من {{count}} سنة"},almostXYears:{one:"ما يقارب سنة واحدة",two:"ما يقارب سنتين",threeToTen:"ما يقارب {{count}} سنوات",other:"ما يقارب {{count}} سنة"}},Gt=(t,s,a)=>{const r=Xt[t];let l;return typeof r=="string"?l=r:s===1?l=r.one:s===2?l=r.two:s<=10?l=r.threeToTen.replace("{{count}}",String(s)):l=r.other.replace("{{count}}",String(s)),a?.addSuffix?a.comparison&&a.comparison>0?"خلال "+l:"منذ "+l:l},Qt={full:"EEEE، do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},Jt={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},Kt={full:"{{date}} 'عند الساعة' {{time}}",long:"{{date}} 'عند الساعة' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},es={date:he({formats:Qt,defaultWidth:"full"}),time:he({formats:Jt,defaultWidth:"full"}),dateTime:he({formats:Kt,defaultWidth:"full"})},ts={lastWeek:"eeee 'الماضي عند الساعة' p",yesterday:"'الأمس عند الساعة' p",today:"'اليوم عند الساعة' p",tomorrow:"'غدا عند الساعة' p",nextWeek:"eeee 'القادم عند الساعة' p",other:"P"},ss=t=>ts[t],as={narrow:["ق","ب"],abbreviated:["ق.م.","ب.م."],wide:["قبل الميلاد","بعد الميلاد"]},rs={narrow:["1","2","3","4"],abbreviated:["ر1","ر2","ر3","ر4"],wide:["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"]},ls={narrow:["ي","ف","م","أ","م","ي","ي","أ","س","أ","ن","د"],abbreviated:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],wide:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},ns={narrow:["ح","ن","ث","ر","خ","ج","س"],short:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],abbreviated:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],wide:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},is={narrow:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"}},os={narrow:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"}},ds=t=>String(t),cs={ordinalNumber:ds,era:B({values:as,defaultWidth:"wide"}),quarter:B({values:rs,defaultWidth:"wide",argumentCallback:t=>t-1}),month:B({values:ls,defaultWidth:"wide"}),day:B({values:ns,defaultWidth:"wide"}),dayPeriod:B({values:is,defaultWidth:"wide",formattingValues:os,defaultFormattingWidth:"wide"})},xs=/^(\d+)(th|st|nd|rd)?/i,ms=/\d+/i,hs={narrow:/[قب]/,abbreviated:/[قب]\.م\./,wide:/(قبل|بعد) الميلاد/},us={any:[/قبل/,/بعد/]},gs={narrow:/^[1234]/i,abbreviated:/ر[1234]/,wide:/الربع (الأول|الثاني|الثالث|الرابع)/},fs={any:[/1/i,/2/i,/3/i,/4/i]},ps={narrow:/^[أيفمسند]/,abbreviated:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/,wide:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/},bs={narrow:[/^ي/i,/^ف/i,/^م/i,/^أ/i,/^م/i,/^ي/i,/^ي/i,/^أ/i,/^س/i,/^أ/i,/^ن/i,/^د/i],any:[/^يناير/i,/^فبراير/i,/^مارس/i,/^أبريل/i,/^مايو/i,/^يونيو/i,/^يوليو/i,/^أغسطس/i,/^سبتمبر/i,/^أكتوبر/i,/^نوفمبر/i,/^ديسمبر/i]},ys={narrow:/^[حنثرخجس]/i,short:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,abbreviated:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,wide:/^(الأحد|الاثنين|الثلاثاء|الأربعاء|الخميس|الجمعة|السبت)/i},ws={narrow:[/^ح/i,/^ن/i,/^ث/i,/^ر/i,/^خ/i,/^ج/i,/^س/i],wide:[/^الأحد/i,/^الاثنين/i,/^الثلاثاء/i,/^الأربعاء/i,/^الخميس/i,/^الجمعة/i,/^السبت/i],any:[/^أح/i,/^اث/i,/^ث/i,/^أر/i,/^خ/i,/^ج/i,/^س/i]},Ns={narrow:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/,any:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/},js={any:{am:/^ص/,pm:/^م/,midnight:/منتصف الليل/,noon:/الظهر/,afternoon:/بعد الظهر/,morning:/في الصباح/,evening:/في المساء/,night:/في الليل/}},vs={ordinalNumber:tt({matchPattern:xs,parsePattern:ms,valueCallback:t=>parseInt(t,10)}),era:X({matchPatterns:hs,defaultMatchWidth:"wide",parsePatterns:us,defaultParseWidth:"any"}),quarter:X({matchPatterns:gs,defaultMatchWidth:"wide",parsePatterns:fs,defaultParseWidth:"any",valueCallback:t=>t+1}),month:X({matchPatterns:ps,defaultMatchWidth:"wide",parsePatterns:bs,defaultParseWidth:"any"}),day:X({matchPatterns:ys,defaultMatchWidth:"wide",parsePatterns:ws,defaultParseWidth:"any"}),dayPeriod:X({matchPatterns:Ns,defaultMatchWidth:"any",parsePatterns:js,defaultParseWidth:"any"})},K={code:"ar",formatDistance:Gt,formatLong:es,formatRelative:ss,localize:cs,match:vs,options:{weekStartsOn:6,firstWeekContainsDate:1}},ks=({children:t,sidebar:s,header:a})=>{const{i18n:r}=P(),l=r.dir();return e.jsxs("div",{className:"h-screen bg-dark-900 flex flex-col overflow-hidden",dir:l,children:[e.jsx("div",{className:"flex-none z-20 bg-dark-800 border-b border-white/10 shadow-md",children:a}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsx("main",{className:"flex-1 overflow-y-auto bg-dark-900 relative scrollbar-thin scrollbar-thumb-dark-700 scrollbar-track-transparent",children:e.jsx("div",{className:"min-h-full p-4 lg:p-6",children:t})}),e.jsx("aside",{className:"w-80 flex-none bg-dark-800 border-l border-white/10 hidden lg:flex flex-col h-full z-10 shadow-[-4px_0_15px_-3px_rgba(0,0,0,0.3)]",children:s})]})]})},Ds=({activeView:t,setActiveView:s,searchQuery:a,setSearchQuery:r,statusFilter:l,setStatusFilter:n,dateFilter:i,setDateFilter:o,onRefresh:x,onLogout:c,onNewAppointment:y,stats:h})=>{const{t:f}=P("admin");return e.jsxs("div",{className:"flex flex-col bg-dark-800 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:f("title")}),e.jsxs("div",{className:"flex bg-dark-900/50 rounded-lg p-1 border border-white/5",children:[e.jsxs("button",{onClick:()=>s("today"),className:`px-6 py-3 rounded-md text-sm font-bold uppercase tracking-wider transition-all flex items-center gap-2 ${t==="today"?"bg-gold-500 text-dark-900 shadow-sm":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[e.jsx(lt,{className:"h-5 w-5"}),f("views.today")]}),e.jsxs("button",{onClick:()=>s("availability"),className:`px-6 py-3 rounded-md text-sm font-bold uppercase tracking-wider transition-all flex items-center gap-2 ${t==="availability"?"bg-gold-500 text-dark-900 shadow-sm":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[e.jsx(_t,{className:"h-5 w-5"}),f("views.availability")]}),e.jsxs("button",{onClick:()=>s("appointments"),className:`px-6 py-3 rounded-md text-sm font-bold uppercase tracking-wider transition-all flex items-center gap-2 ${t==="appointments"?"bg-gold-500 text-dark-900 shadow-sm":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[e.jsx(ke,{className:"h-5 w-5"}),f("views.all")]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ke,{}),e.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-5 py-2.5 bg-gold-500 hover:bg-gold-400 text-dark-900 rounded-lg text-sm font-bold transition-all shadow-lg hover:shadow-gold-500/20",children:[e.jsx(Nt,{className:"h-5 w-5"}),e.jsx("span",{className:"hidden sm:inline",children:f("actions.add")})]}),e.jsx("div",{className:"h-8 w-px bg-white/10 mx-2"}),e.jsx("button",{onClick:x,className:"p-2.5 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white",title:f("actions.refresh"),children:e.jsx(vt,{className:"h-5 w-5"})}),e.jsx("button",{onClick:c,className:"p-2.5 hover:bg-red-500/10 rounded-lg transition-colors text-red-500/70 hover:text-red-500",title:f("actions.logout"),children:e.jsx(bt,{className:"h-5 w-5"})})]})]}),t==="appointments"&&e.jsxs("div",{className:"flex items-center gap-4 px-6 py-3 bg-dark-900/30",children:[e.jsxs("div",{className:"relative w-72",children:[e.jsx(St,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500 rtl:left-auto rtl:right-3"}),e.jsx("input",{type:"text",placeholder:f("filters.search"),value:a,onChange:w=>r(w.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg pl-10 pr-4 py-2 text-sm text-white placeholder-gray-600 focus:border-gold-500/50 focus:ring-1 focus:ring-gold-500/50 outline-none transition-colors h-10 rtl:pl-4 rtl:pr-10"})]}),e.jsxs("div",{className:"relative w-48",children:[e.jsx(ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500 rtl:left-auto rtl:right-3"}),e.jsxs("select",{value:l,onChange:w=>n(w.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg pl-10 pr-3 py-2 text-sm text-white focus:border-gold-500/50 focus:ring-1 focus:ring-gold-500/50 outline-none cursor-pointer hover:border-white/20 transition-colors h-10 appearance-none rtl:pl-3 rtl:pr-10",children:[e.jsx("option",{value:"all",children:f("filters.allStatuses")}),e.jsx("option",{value:"pending",children:f("filters.pending")}),e.jsx("option",{value:"confirmed",children:f("filters.confirmed")}),e.jsx("option",{value:"cancelled",children:f("filters.cancelled")})]})]}),e.jsxs("div",{className:"relative w-48",children:[e.jsx(E,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500 rtl:left-auto rtl:right-3"}),e.jsx("input",{type:"date",value:i,onChange:w=>o(w.target.value),className:"w-full bg-dark-900 border border-white/10 rounded-lg pl-10 pr-3 py-2 text-sm text-white focus:border-gold-500/50 focus:ring-1 focus:ring-gold-500/50 outline-none cursor-pointer hover:border-white/20 transition-colors h-10 rtl:pl-3 rtl:pr-10"})]}),(i||l!=="all")&&e.jsx("button",{onClick:()=>{o(""),n("all")},className:"px-4 py-2 bg-dark-800 hover:bg-dark-700 border border-white/10 rounded-lg text-xs font-bold text-gray-400 hover:text-white transition-colors h-10 uppercase tracking-wide",children:f("actions.reset")}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex items-center gap-4 px-4 border-l border-white/5 pl-6 rtl:border-l-0 rtl:border-r rtl:pl-0 rtl:pr-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-wider font-bold",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),e.jsxs("span",{className:"text-gray-400",children:[f("stats.pending"),":"]}),e.jsx("span",{className:"text-white text-sm",children:h.pending})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-wider font-bold",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsxs("span",{className:"text-gray-400",children:[f("stats.confirmed"),":"]}),e.jsx("span",{className:"text-white text-sm",children:h.confirmed})]})]})]})]})},qe=({appointment:t,serviceNames:s,onStatusUpdate:a,onViewDetails:r,variant:l="grid"})=>{const{t:n,i18n:i}=P("admin"),o=i.language==="ar"?K:J,x=m=>{switch(m){case"phone":return e.jsx(Q,{className:"h-3.5 w-3.5 text-blue-400"});case"whatsapp":return e.jsx(ie,{className:"h-3.5 w-3.5 text-green-400"});case"walk-in":return e.jsx(De,{className:"h-3.5 w-3.5 text-purple-400"});default:return e.jsx(ve,{className:"h-3.5 w-3.5 text-gray-400"})}},c=m=>{switch(m){case"phone":return n("source.phone");case"whatsapp":return n("source.whatsapp");case"walk-in":return n("source.walkIn");default:return n("source.web")}},y=m=>{switch(m){case"confirmed":return"bg-green-500/10 text-green-400 border-green-500/30";case"cancelled":return"bg-red-500/10 text-red-400 border-red-500/30";default:return"bg-yellow-500/10 text-yellow-500 border-yellow-500/30"}},h=m=>n(`status.${m}`),f=t.status==="pending",w=t.status==="cancelled",j=U(`${t.appointmentDate}T${t.appointmentTime}`),N=Ze(j);return l==="list"?e.jsxs("div",{className:`group flex items-center gap-4 p-4 bg-dark-800 border rounded-lg transition-all hover:border-gold-500/50 ${w?"opacity-60 grayscale":N&&!w?"opacity-75":""} ${f?"border-yellow-500/30 shadow-[0_0_10px_-5px_rgba(234,179,8,0.2)]":"border-white/10"}`,children:[e.jsxs("div",{className:"flex flex-col min-w-[120px]",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-lg font-bold text-white font-mono",children:t.appointmentTime}),f&&e.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-pulse"})]}),e.jsx("div",{className:"text-xs text-gray-500",children:D(U(t.appointmentDate),"dd MMM",{locale:o})})]}),e.jsxs("div",{className:"flex-1 min-w-0 text-left rtl:text-right",children:[e.jsx("div",{className:"text-sm font-bold text-white mb-0.5",children:t.fullName}),e.jsx("div",{className:"text-xs text-gray-400 font-mono",children:t.phone})]}),e.jsx("div",{className:"flex-1 min-w-0 text-left rtl:text-right hidden md:block",children:e.jsx("div",{className:"text-xs text-gray-400 line-clamp-1",children:s})}),e.jsx("div",{className:"text-right min-w-[80px] rtl:text-left",children:e.jsxs("div",{className:"text-sm font-bold text-gold-500",children:[t.totalPrice," RON"]})}),e.jsx("div",{className:"min-w-[90px] hidden sm:block",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-[10px] font-bold uppercase tracking-wider border ${y(t.status)}`,children:h(t.status)})}),e.jsx("div",{className:"min-w-[40px] hidden lg:block",children:e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-dark-900/50 rounded-md border border-white/10",title:c(t.source),children:x(t.source)})}),e.jsxs("div",{className:"flex gap-1 min-w-[100px] justify-end rtl:justify-start",children:[e.jsx("button",{onClick:()=>r(t),className:"p-1.5 hover:bg-dark-700 rounded-md text-gray-400 hover:text-white transition-colors",title:n("actions.view"),children:e.jsx(Ne,{className:"h-4 w-4"})}),f&&!N&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>a(t.id,"confirmed"),className:"p-1.5 hover:bg-green-500/20 rounded-md text-green-400 hover:text-green-300 transition-colors",title:n("actions.confirm"),children:e.jsx(ne,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>a(t.id,"cancelled"),className:"p-1.5 hover:bg-red-500/20 rounded-md text-red-400 hover:text-red-300 transition-colors",title:n("actions.cancel"),children:e.jsx(q,{className:"h-4 w-4"})})]})]})]}):e.jsxs("div",{className:`group relative bg-dark-800 border rounded-xl p-4 transition-all hover:border-gold-500/50 hover:shadow-lg hover:shadow-gold-500/10 ${w?"opacity-60 grayscale":N&&!w?"opacity-75":""} ${f?"border-yellow-500/30 shadow-[0_0_15px_-5px_rgba(234,179,8,0.2)]":"border-white/10"}`,children:[f&&e.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-gold-500 to-transparent"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0 text-left rtl:text-right",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[e.jsx("span",{className:"text-xl font-bold text-white font-mono",children:t.appointmentTime}),f&&e.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-pulse"})]}),e.jsx("span",{className:"text-xs text-gray-400 font-medium",children:D(U(t.appointmentDate),"EEEE, dd MMMM yyyy",{locale:o})})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-sm font-bold text-white mb-0.5 truncate",children:t.fullName}),e.jsx("div",{className:"text-xs text-gray-400 font-mono",children:t.phone})]}),e.jsx("div",{className:"text-xs text-gray-400 line-clamp-2",children:s})]}),e.jsxs("div",{className:"flex flex-col items-end justify-between min-w-[120px] rtl:items-start",children:[e.jsx("div",{className:"text-right mb-2 rtl:text-left",children:e.jsxs("div",{className:"text-lg font-bold text-gold-500",children:[t.totalPrice," RON"]})}),e.jsxs("div",{className:"flex flex-col gap-2 items-end mb-2 rtl:items-start",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-[10px] font-bold uppercase tracking-wider border ${y(t.status)}`,children:h(t.status)}),e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-dark-900/50 rounded-md border border-white/10",children:[x(t.source),e.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-medium",children:c(t.source)})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>r(t),className:"p-1.5 hover:bg-dark-700 rounded-md text-gray-400 hover:text-white transition-colors",title:n("actions.view"),children:e.jsx(Ne,{className:"h-4 w-4"})}),f&&!N&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>a(t.id,"confirmed"),className:"p-1.5 hover:bg-green-500/20 rounded-md text-green-400 hover:text-green-300 transition-colors",title:n("actions.confirm"),children:e.jsx(ne,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>a(t.id,"cancelled"),className:"p-1.5 hover:bg-red-500/20 rounded-md text-red-400 hover:text-red-300 transition-colors",title:n("actions.cancel"),children:e.jsx(q,{className:"h-4 w-4"})})]})]})]})]}),N&&!w&&e.jsx("div",{className:"absolute top-2 left-2 rtl:left-auto rtl:right-2",children:e.jsx("span",{className:"text-[9px] uppercase tracking-wider font-bold text-gray-600 bg-dark-900/80 px-1.5 py-0.5 rounded",children:n("status.past")})})]})},Ts=({appointments:t,services:s,loading:a,currentPage:r,totalPages:l,totalItems:n,onPageChange:i,onStatusUpdate:o,onViewDetails:x})=>{const{t:c}=P("admin"),[y,h]=g.useState("grid"),f=j=>j.map(N=>s.find(m=>m.id===N)?.name).filter(Boolean).join(", "),w=()=>e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-dark-800/50 rounded-lg border border-white/5",children:[e.jsxs("div",{className:"text-xs text-gray-400",children:[c("pagination.page")," ",e.jsx("span",{className:"font-bold text-white",children:r})," ",c("pagination.of")," ",e.jsx("span",{className:"font-bold text-white",children:l}),e.jsxs("span",{className:"hidden sm:inline ml-2 rtl:ml-0 rtl:mr-2",children:["• ",e.jsx("span",{className:"font-medium text-white",children:n})," ",c("pagination.appointments")]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>i(r-1),disabled:r===1,className:"flex items-center gap-1 px-3 py-1.5 rounded-lg bg-dark-700 hover:bg-dark-600 disabled:opacity-30 disabled:cursor-not-allowed transition-colors text-gray-400 hover:text-white text-xs font-medium",children:[e.jsx(Ue,{className:"h-3.5 w-3.5 rtl:rotate-180"}),e.jsx("span",{className:"hidden sm:inline",children:c("actions.previous")})]}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,l)},(j,N)=>{let m=N+1;return l>5&&r>3&&(m=r-2+N),m>l?null:e.jsx("button",{onClick:()=>i(m),className:`w-8 h-8 rounded-lg text-xs font-bold transition-all ${r===m?"bg-gold-500 text-dark-900 shadow-lg shadow-gold-500/20":"bg-dark-700 text-gray-400 hover:bg-dark-600 hover:text-white"}`,children:m},m)})}),e.jsxs("button",{onClick:()=>i(r+1),disabled:r===l,className:"flex items-center gap-1 px-3 py-1.5 rounded-lg bg-dark-700 hover:bg-dark-600 disabled:opacity-30 disabled:cursor-not-allowed transition-colors text-gray-400 hover:text-white text-xs font-medium",children:[e.jsx("span",{className:"hidden sm:inline",children:c("actions.next")}),e.jsx(Ee,{className:"h-3.5 w-3.5 rtl:rotate-180"})]})]})]});return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex bg-dark-800 p-1 rounded-lg border border-white/10",children:[e.jsxs("button",{onClick:()=>h("grid"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all text-sm font-medium ${y==="grid"?"bg-gold-500 text-dark-900 shadow-sm":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[e.jsx(Re,{className:"h-4 w-4"}),e.jsx("span",{children:c("views.grid")})]}),e.jsxs("button",{onClick:()=>h("list"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all text-sm font-medium ${y==="list"?"bg-gold-500 text-dark-900 shadow-sm":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[e.jsx(ke,{className:"h-4 w-4"}),e.jsx("span",{children:c("views.list")})]})]}),e.jsx("div",{className:"flex-1 w-full sm:w-auto",children:w()})]}),e.jsx("div",{className:"flex-1 overflow-auto scrollbar-thin scrollbar-thumb-dark-600",children:a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-gold-500"})}):t.length===0?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-500 text-sm mb-2",children:c("messages.noAppointments")}),e.jsx("div",{className:"text-gray-600 text-xs",children:c("messages.tryAdjust")})]})}):e.jsx("div",{className:y==="grid"?"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 pb-4":"flex flex-col gap-3 pb-4",children:t.map(j=>e.jsx(qe,{appointment:j,serviceNames:f(j.services),onStatusUpdate:o,onViewDetails:x,variant:y},j.id))})}),!a&&t.length>0&&e.jsx("div",{className:"mt-4",children:w()})]})},Ms=({appointments:t,services:s,loading:a,selectedDate:r,onDateChange:l,onStatusUpdate:n,onViewDetails:i})=>{const{t:o,i18n:x}=P("admin"),c=x.language==="ar"?K:J,[y,h]=g.useState("list"),f=d=>d.map($=>s.find(u=>u.id===$)?.name).filter(Boolean).join(", "),w=d=>{switch(d){case"phone":return e.jsx(Q,{className:"h-3.5 w-3.5 text-blue-400"});case"whatsapp":return e.jsx(ie,{className:"h-3.5 w-3.5 text-green-400"});case"walk-in":return e.jsx(De,{className:"h-3.5 w-3.5 text-purple-400"});default:return e.jsx(ve,{className:"h-3.5 w-3.5 text-gray-400"})}},j=d=>{switch(d){case"confirmed":return"bg-green-500/10 text-green-400 border-green-500/30";case"cancelled":return"bg-red-500/10 text-red-400 border-red-500/30";default:return"bg-yellow-500/10 text-yellow-500 border-yellow-500/30"}},N=d=>o(`status.${d}`),m=[...t].sort((d,$)=>d.appointmentTime.localeCompare($.appointmentTime)),p=m.filter(d=>d.status==="pending"),v=m.filter(d=>d.status==="confirmed"),Y=m.filter(d=>d.status==="cancelled"),C={total:t.length,pending:p.length,confirmed:v.length,cancelled:Y.length,totalRevenue:t.filter(d=>d.status!=="cancelled").reduce((d,$)=>d+$.totalPrice,0)},A=({appointment:d})=>{const $=d.status==="pending",u=d.status==="cancelled",k=U(`${d.appointmentDate}T${d.appointmentTime}`),_=Ze(k);return e.jsxs("div",{className:`group flex items-center gap-4 p-4 bg-dark-800 border rounded-lg transition-all hover:border-gold-500/50 ${u?"opacity-60 grayscale":_&&!u?"opacity-75":""} ${$?"border-yellow-500/30 shadow-[0_0_10px_-5px_rgba(234,179,8,0.2)]":"border-white/10"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-[100px]",children:[e.jsx(O,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-lg font-bold text-white font-mono",children:d.appointmentTime}),$&&e.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-pulse"})]}),e.jsxs("div",{className:"flex-1 min-w-0 text-left rtl:text-right",children:[e.jsx("div",{className:"text-sm font-bold text-white mb-0.5",children:d.fullName}),e.jsx("div",{className:"text-xs text-gray-400 font-mono",children:d.phone})]}),e.jsx("div",{className:"flex-1 min-w-0 text-left rtl:text-right",children:e.jsx("div",{className:"text-xs text-gray-400 line-clamp-1",children:f(d.services)})}),e.jsx("div",{className:"text-right min-w-[80px] rtl:text-left",children:e.jsxs("div",{className:"text-sm font-bold text-gold-500",children:[d.totalPrice," RON"]})}),e.jsx("div",{className:"min-w-[90px] flex justify-center",children:e.jsx("span",{className:`inline-flex items-center justify-center px-2 py-1 rounded-md text-[10px] font-bold uppercase tracking-wider border ${j(d.status)}`,children:N(d.status)})}),e.jsx("div",{className:"min-w-[80px] flex justify-center",children:e.jsx("div",{className:"flex items-center justify-center gap-1.5 px-2 py-1 bg-dark-900/50 rounded-md border border-white/10",title:d.source,children:w(d.source)})}),e.jsxs("div",{className:"flex gap-1 min-w-[100px] justify-end rtl:justify-start",children:[e.jsx("button",{onClick:()=>i(d),className:"p-1.5 hover:bg-dark-700 rounded-md text-gray-400 hover:text-white transition-colors",title:o("actions.view"),children:e.jsx(Ne,{className:"h-4 w-4"})}),$&&!_&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>n(d.id,"confirmed"),className:"p-1.5 hover:bg-green-500/20 rounded-md text-green-400 hover:text-green-300 transition-colors",title:o("actions.confirm"),children:e.jsx(ne,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>n(d.id,"cancelled"),className:"p-1.5 hover:bg-red-500/20 rounded-md text-red-400 hover:text-red-300 transition-colors",title:o("actions.cancel"),children:e.jsx(q,{className:"h-4 w-4"})})]})]})]})};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E,{className:"h-6 w-6 text-gold-500"}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:o("todayView.title")})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex bg-dark-800 p-1 rounded-lg border border-white/10",children:[e.jsxs("button",{onClick:()=>h("grid"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all text-sm font-medium ${y==="grid"?"bg-gold-500 text-dark-900 shadow-sm":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[e.jsx(Re,{className:"h-4 w-4"}),e.jsx("span",{children:o("views.grid")})]}),e.jsxs("button",{onClick:()=>h("list"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all text-sm font-medium ${y==="list"?"bg-gold-500 text-dark-900 shadow-sm":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[e.jsx(ke,{className:"h-4 w-4"}),e.jsx("span",{children:o("views.list")})]})]}),e.jsx("button",{onClick:()=>l(D(Yt(U(r)),"yyyy-MM-dd")),className:"p-2 hover:bg-dark-700 rounded-lg transition-colors text-gray-400 hover:text-white",title:o("actions.previousDay"),children:e.jsx(Ue,{className:"h-5 w-5 rtl:rotate-180"})}),e.jsxs("div",{className:"flex items-center gap-3 bg-dark-800 border border-white/10 rounded-lg px-4 py-2",children:[e.jsx("input",{type:"date",value:r,onChange:d=>l(d.target.value),className:"bg-transparent border-none text-white font-medium text-sm focus:outline-none cursor-pointer"}),e.jsx("div",{className:"text-xs text-gray-400",children:D(U(r),"EEEE",{locale:c})})]}),r!==D(new Date,"yyyy-MM-dd")&&e.jsx("button",{onClick:()=>l(D(new Date,"yyyy-MM-dd")),className:"px-3 py-2 bg-gold-500 hover:bg-gold-400 text-dark-900 rounded-lg text-xs font-bold transition-colors",children:o("actions.today")}),e.jsx("button",{onClick:()=>l(D(Ae(U(r),1),"yyyy-MM-dd")),className:"p-2 hover:bg-dark-700 rounded-lg transition-colors text-gray-400 hover:text-white",title:o("actions.nextDay"),children:e.jsx(Ee,{className:"h-5 w-5 rtl:rotate-180"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3",children:[e.jsxs("div",{className:"bg-dark-800 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:o("stats.total")}),e.jsx("div",{className:"text-2xl font-bold text-white",children:C.total})]}),e.jsxs("div",{className:"bg-dark-800 border border-yellow-500/30 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:o("stats.pending")}),e.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:C.pending})]}),e.jsxs("div",{className:"bg-dark-800 border border-green-500/30 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:o("stats.confirmed")}),e.jsx("div",{className:"text-2xl font-bold text-green-500",children:C.confirmed})]}),e.jsxs("div",{className:"bg-dark-800 border border-red-500/30 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:o("stats.cancelled")}),e.jsx("div",{className:"text-2xl font-bold text-red-500",children:C.cancelled})]}),e.jsxs("div",{className:"bg-dark-800 border border-gold-500/30 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:o("stats.estimatedRevenue")}),e.jsxs("div",{className:"text-2xl font-bold text-gold-500",children:[C.totalRevenue," RON"]})]})]})]}),e.jsx("div",{className:"flex-1 overflow-auto scrollbar-thin scrollbar-thumb-dark-600",children:a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-gold-500"})}):t.length===0?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(E,{className:"h-12 w-12 text-gray-600 mx-auto mb-3"}),e.jsx("div",{className:"text-gray-500 text-sm mb-2",children:o("todayView.noAppointments")}),e.jsx("div",{className:"text-gray-600 text-xs",children:o("todayView.freeDay")})]})}):y==="grid"?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 pb-4",children:m.map(d=>e.jsx(qe,{appointment:d,serviceNames:f(d.services),onStatusUpdate:n,onViewDetails:i,variant:"grid"},d.id))}):e.jsxs("div",{className:"space-y-6",children:[p.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"h-px flex-1 bg-yellow-500/20"}),e.jsxs("h3",{className:"text-xs uppercase tracking-wider font-bold text-yellow-500",children:[o("todayView.inProgress")," (",p.length,")"]}),e.jsx("div",{className:"h-px flex-1 bg-yellow-500/20"})]}),e.jsx("div",{className:"space-y-2",children:p.map(d=>e.jsx(A,{appointment:d},d.id))})]}),v.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"h-px flex-1 bg-green-500/20"}),e.jsxs("h3",{className:"text-xs uppercase tracking-wider font-bold text-green-500",children:[o("todayView.confirmedSection")," (",v.length,")"]}),e.jsx("div",{className:"h-px flex-1 bg-green-500/20"})]}),e.jsx("div",{className:"space-y-2",children:v.map(d=>e.jsx(A,{appointment:d},d.id))})]}),Y.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"h-px flex-1 bg-red-500/20"}),e.jsxs("h3",{className:"text-xs uppercase tracking-wider font-bold text-red-500",children:[o("todayView.cancelledSection")," (",Y.length,")"]}),e.jsx("div",{className:"h-px flex-1 bg-red-500/20"})]}),e.jsx("div",{className:"space-y-2",children:Y.map(d=>e.jsx(A,{appointment:d},d.id))})]})]})})]})},Cs=({tasks:t,services:s,selectedDate:a,onDateChange:r,onUpdateStatus:l,onViewDetails:n})=>{const{t:i}=P("admin"),o=x=>x.map(c=>s.find(y=>y.id===c)?.name).filter(Boolean).join(", ");return e.jsxs("div",{className:"h-full flex flex-col bg-dark-800 border-l border-white/10 rtl:border-l-0 rtl:border-r",children:[e.jsxs("div",{className:"p-3 border-b border-white/10",children:[e.jsx("h3",{className:"text-sm font-bold text-white mb-2",children:i("sidebar.title")}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-gray-500 rtl:left-auto rtl:right-2"}),e.jsx("input",{type:"date",value:a,onChange:x=>r(x.target.value),className:"w-full bg-dark-900 border border-white/10 rounded pl-8 pr-2 py-1.5 text-xs text-white focus:border-gold-500/50 focus:ring-1 focus:ring-gold-500/50 outline-none cursor-pointer hover:border-white/20 transition-colors rtl:pl-2 rtl:pr-8"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 scrollbar-thin scrollbar-thumb-dark-600",children:t.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500 text-[10px]",children:i("sidebar.noTasks")}):t.map(x=>e.jsxs("div",{className:`bg-dark-900 border rounded-md p-2 transition-all hover:border-gold-500/30 group ${x.status==="pending"?"border-yellow-500/30 shadow-[0_0_10px_-5px_rgba(234,179,8,0.2)]":x.status==="confirmed"?"border-green-500/20":"border-white/5 opacity-60"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"bg-dark-800 px-1 py-0.5 rounded text-[10px] font-bold text-white font-mono border border-white/10",children:x.appointmentTime}),x.status==="pending"&&e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500 animate-pulse"})]}),e.jsxs("span",{className:"text-gold-500 text-[10px] font-bold",children:[x.totalPrice," RON"]})]}),e.jsxs("div",{className:"mb-1.5",children:[e.jsx("div",{className:"font-bold text-white text-xs truncate",children:x.fullName}),e.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:o(x.services)})]}),e.jsxs("div",{className:"flex gap-1.5 mt-1.5 pt-1.5 border-t border-white/5",children:[e.jsx("button",{onClick:()=>n(x),className:"flex-1 py-0.5 bg-dark-800 hover:bg-dark-700 text-gray-400 hover:text-white text-[10px] font-medium rounded transition-colors",children:i("sidebar.details")}),x.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>l(x.id,"confirmed"),className:"flex-1 py-0.5 bg-green-500/10 hover:bg-green-500/20 text-green-400 text-[10px] font-medium rounded transition-colors",children:i("actions.confirm")}),e.jsx("button",{onClick:()=>l(x.id,"cancelled"),className:"p-0.5 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded transition-colors",title:i("actions.cancel"),children:e.jsx(q,{className:"h-3 w-3"})})]})]})]},x.id))})]})};function Ss(t,s){const a=Ps(s);return"formatToParts"in a?_s(a,t):Is(a,t)}const $s={year:0,month:1,day:2,hour:3,minute:4,second:5};function _s(t,s){try{const a=t.formatToParts(s),r=[];for(let l=0;l<a.length;l++){const n=$s[a[l].type];n!==void 0&&(r[n]=parseInt(a[l].value,10))}return r}catch(a){if(a instanceof RangeError)return[NaN];throw a}}function Is(t,s){const a=t.format(s),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(a);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}const ge={},Ce=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),Ys=Ce==="06/25/2014, 00:00:00"||Ce==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";function Ps(t){return ge[t]||(ge[t]=Ys?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),ge[t]}function Be(t,s,a,r,l,n,i){const o=new Date(0);return o.setUTCFullYear(t,s,a),o.setUTCHours(r,l,n,i),o}const Se=36e5,Fs=6e4,fe={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Xe(t,s,a){if(!t)return 0;let r=fe.timezoneZ.exec(t);if(r)return 0;let l,n;if(r=fe.timezoneHH.exec(t),r)return l=parseInt(r[1],10),$e(l)?-(l*Se):NaN;if(r=fe.timezoneHHMM.exec(t),r){l=parseInt(r[2],10);const i=parseInt(r[3],10);return $e(l,i)?(n=Math.abs(l)*Se+i*Fs,r[1]==="+"?-n:n):NaN}if(Ls(t)){s=new Date(s||Date.now());const i=a?s:Hs(s),o=je(i,t);return-(a?o:As(s,o,t))}return NaN}function Hs(t){return Be(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function je(t,s){const a=Ss(t,s),r=Be(a[0],a[1]-1,a[2],a[3]%24,a[4],a[5],0).getTime();let l=t.getTime();const n=l%1e3;return l-=n>=0?n:1e3+n,r-l}function As(t,s,a){let l=t.getTime()-s;const n=je(new Date(l),a);if(s===n)return s;l-=n-s;const i=je(new Date(l),a);return n===i?n:Math.max(n,i)}function $e(t,s){return-23<=t&&t<=23&&(s==null||0<=s&&s<=59)}const _e={};function Ls(t){if(_e[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),_e[t]=!0,!0}catch{return!1}}function Ie(t){const s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+t-+s}const Ws=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,pe=36e5,Ye=6e4,Us=2,M={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Ws};function Os(t,s={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const a=s.additionalDigits==null?Us:Number(s.additionalDigits);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const r=Es(t),{year:l,restDateString:n}=zs(r.date,a),i=Rs(n,l);if(i===null||isNaN(i.getTime()))return new Date(NaN);if(i){const o=i.getTime();let x=0,c;if(r.time&&(x=Zs(r.time),x===null||isNaN(x)))return new Date(NaN);if(r.timeZone||s.timeZone){if(c=Xe(r.timeZone||s.timeZone,new Date(o+x)),isNaN(c))return new Date(NaN)}else c=Ie(new Date(o+x)),c=Ie(new Date(o+x+c));return new Date(o+x+c)}else return new Date(NaN)}function Es(t){const s={};let a=M.dateTimePattern.exec(t),r;if(a?(s.date=a[1],r=a[3]):(a=M.datePattern.exec(t),a?(s.date=a[1],r=a[2]):(s.date=null,r=t)),r){const l=M.timeZone.exec(r);l?(s.time=r.replace(l[1],""),s.timeZone=l[1].trim()):s.time=r}return s}function zs(t,s){if(t){const a=M.YYY[s],r=M.YYYYY[s];let l=M.YYYY.exec(t)||r.exec(t);if(l){const n=l[1];return{year:parseInt(n,10),restDateString:t.slice(n.length)}}if(l=M.YY.exec(t)||a.exec(t),l){const n=l[1];return{year:parseInt(n,10)*100,restDateString:t.slice(n.length)}}}return{year:null}}function Rs(t,s){if(s===null)return null;let a,r,l;if(!t||!t.length)return a=new Date(0),a.setUTCFullYear(s),a;let n=M.MM.exec(t);if(n)return a=new Date(0),r=parseInt(n[1],10)-1,Fe(s,r)?(a.setUTCFullYear(s,r),a):new Date(NaN);if(n=M.DDD.exec(t),n){a=new Date(0);const i=parseInt(n[1],10);return Bs(s,i)?(a.setUTCFullYear(s,0,i),a):new Date(NaN)}if(n=M.MMDD.exec(t),n){a=new Date(0),r=parseInt(n[1],10)-1;const i=parseInt(n[2],10);return Fe(s,r,i)?(a.setUTCFullYear(s,r,i),a):new Date(NaN)}if(n=M.Www.exec(t),n)return l=parseInt(n[1],10)-1,He(l)?Pe(s,l):new Date(NaN);if(n=M.WwwD.exec(t),n){l=parseInt(n[1],10)-1;const i=parseInt(n[2],10)-1;return He(l,i)?Pe(s,l,i):new Date(NaN)}return null}function Zs(t){let s,a,r=M.HH.exec(t);if(r)return s=parseFloat(r[1].replace(",",".")),be(s)?s%24*pe:NaN;if(r=M.HHMM.exec(t),r)return s=parseInt(r[1],10),a=parseFloat(r[2].replace(",",".")),be(s,a)?s%24*pe+a*Ye:NaN;if(r=M.HHMMSS.exec(t),r){s=parseInt(r[1],10),a=parseInt(r[2],10);const l=parseFloat(r[3].replace(",","."));return be(s,a,l)?s%24*pe+a*Ye+l*1e3:NaN}return null}function Pe(t,s,a){s=s||0,a=a||0;const r=new Date(0);r.setUTCFullYear(t,0,4);const l=r.getUTCDay()||7,n=s*7+a+1-l;return r.setUTCDate(r.getUTCDate()+n),r}const Vs=[31,28,31,30,31,30,31,31,30,31,30,31],qs=[31,29,31,30,31,30,31,31,30,31,30,31];function Ge(t){return t%400===0||t%4===0&&t%100!==0}function Fe(t,s,a){if(s<0||s>11)return!1;if(a!=null){if(a<1)return!1;const r=Ge(t);if(r&&a>qs[s]||!r&&a>Vs[s])return!1}return!0}function Bs(t,s){if(s<1)return!1;const a=Ge(t);return!(a&&s>366||!a&&s>365)}function He(t,s){return!(t<0||t>52||s!=null&&(s<0||s>6))}function be(t,s,a){return!(t<0||t>=25||s!=null&&(s<0||s>=60)||a!=null&&(a<0||a>=60))}function Xs(t,s,a){t=Os(t,a);const r=Xe(s,t,!0),l=new Date(t.getTime()-r),n=new Date(0);return n.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),n.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),n}const Gs=()=>{const{t,i18n:s}=P("admin"),a=s.language==="ar"?K:J,[r,l]=g.useState(new Date),[n,i]=g.useState({startTime:"10:00",endTime:"20:00",slotDuration:60,isClosed:!1}),[o,x]=g.useState(!1),[c,y]=g.useState(null),[h,f]=g.useState({openTime:"10:00",closeTime:"20:00",slotDuration:60,defaultClosedDays:[0]});g.useEffect(()=>{(async()=>{try{const p=await S.get("/config");f({openTime:p.data.openTime,closeTime:p.data.closeTime,slotDuration:p.data.slotDuration,defaultClosedDays:p.data.defaultClosedDays||[0]}),i(v=>({...v,startTime:p.data.openTime,endTime:p.data.closeTime,slotDuration:p.data.slotDuration}))}catch(p){console.error("Failed to fetch salon config:",p)}})()},[]),g.useEffect(()=>{r&&w()},[r]);const w=async()=>{try{const m=D(r,"yyyy-MM-dd"),p=await S.get(`/availability/${m}`);i(p.data)}catch(m){console.error("Failed to fetch availability:",m)}},j=async()=>{x(!0),y(null);try{const m=D(r,"yyyy-MM-dd");await S.post("/availability",{date:m,...n}),y({type:"success",text:t("availability.saveSuccess")}),setTimeout(()=>y(null),3e3)}catch{y({type:"error",text:t("availability.saveError")})}finally{x(!1)}},N=async()=>{if(confirm(t("availability.resetConfirm"))){x(!0);try{const m=D(r,"yyyy-MM-dd");await S.delete(`/availability/${m}`);const p=h.timeZone||"Europe/Bucharest",Y=Xs(r,p).getDay(),C=h.defaultClosedDays.includes(Y);i({startTime:h.openTime,endTime:h.closeTime,slotDuration:h.slotDuration,isClosed:C}),y({type:"success",text:t("availability.resetSuccess")}),setTimeout(()=>y(null),3e3)}catch{y({type:"error",text:t("availability.resetError")})}finally{x(!1)}}};return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:t("availability.title")}),e.jsx("p",{className:"text-gray-400",children:t("availability.subtitle")})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-dark-800 to-dark-700 rounded-2xl p-8 border border-white/10 shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-gold-500/10 p-3 rounded-xl",children:e.jsx(E,{className:"h-6 w-6 text-gold-500"})}),e.jsx("h3",{className:"text-xl font-bold text-white",children:t("availability.selectDate")})]}),e.jsx("div",{className:"bg-dark-900/50 p-6 rounded-xl border border-white/5 flex justify-center",children:e.jsx(Oe,{mode:"single",selected:r,onSelect:m=>m&&l(m),locale:a,modifiersClassNames:{selected:"bg-gold-500 text-dark-900 font-bold hover:bg-gold-400",today:"text-gold-500 font-bold"},className:"text-white",dir:s.language==="ar"?"rtl":"ltr"})}),e.jsxs("div",{className:"mt-6 p-4 bg-dark-900/80 rounded-xl border border-white/10 flex items-center justify-between",children:[e.jsxs("span",{className:"text-gray-400",children:[t("availability.selectedDate"),":"]}),e.jsx("span",{className:"text-gold-500 font-bold text-lg",children:D(r,"dd MMMM yyyy",{locale:a})})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-dark-800 to-dark-700 rounded-2xl p-8 border border-white/10 shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-gold-500/10 p-3 rounded-xl",children:e.jsx(O,{className:"h-6 w-6 text-gold-500"})}),e.jsx("h3",{className:"text-xl font-bold text-white",children:t("availability.configTitle")})]}),e.jsxs("div",{className:"space-y-6 flex-1",children:[e.jsxs("div",{className:`flex items-center justify-between p-5 rounded-xl border transition-all duration-300 ${n.isClosed?"bg-red-500/10 border-red-500/30":"bg-dark-900/50 border-white/10"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[n.isClosed?e.jsx(ot,{className:"h-6 w-6 text-red-500"}):e.jsx(Te,{className:"h-6 w-6 text-green-500"}),e.jsxs("div",{children:[e.jsx("span",{className:`font-bold block ${n.isClosed?"text-red-400":"text-white"}`,children:n.isClosed?t("availability.closed"):t("availability.open")}),e.jsx("span",{className:"text-xs text-gray-400",children:n.isClosed?t("availability.closedDesc"):t("availability.openDesc")})]})]}),e.jsx("button",{onClick:()=>i({...n,isClosed:!n.isClosed}),className:`relative w-14 h-7 rounded-full transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-dark-900 ${n.isClosed?"bg-red-500 focus:ring-red-500":"bg-green-500 focus:ring-green-500"}`,children:e.jsx("div",{className:`absolute top-1 left-1 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-300 ${n.isClosed?"transform translate-x-7":""} rtl:right-1 rtl:left-auto rtl:translate-x-[-1.75rem]`})})]}),!n.isClosed&&e.jsxs("div",{className:"space-y-5 animate-fade-in",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-400",children:t("availability.startTime")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"time",value:n.startTime,onChange:m=>i({...n,startTime:m.target.value}),className:"w-full bg-dark-900 border border-white/10 rounded-xl p-3 pl-10 text-white focus:border-gold-500 focus:ring-1 focus:ring-gold-500 outline-none transition-all rtl:pl-3 rtl:pr-10"}),e.jsx(O,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500 rtl:left-auto rtl:right-3"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-400",children:t("availability.endTime")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"time",value:n.endTime,onChange:m=>i({...n,endTime:m.target.value}),className:"w-full bg-dark-900 border border-white/10 rounded-xl p-3 pl-10 text-white focus:border-gold-500 focus:ring-1 focus:ring-gold-500 outline-none transition-all rtl:pl-3 rtl:pr-10"}),e.jsx(O,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500 rtl:left-auto rtl:right-3"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-400",children:t("availability.slotDuration")}),e.jsxs("select",{value:n.slotDuration,onChange:m=>i({...n,slotDuration:Number(m.target.value)}),className:"w-full bg-dark-900 border border-white/10 rounded-xl p-3 text-white focus:border-gold-500 focus:ring-1 focus:ring-gold-500 outline-none transition-all appearance-none cursor-pointer",children:[e.jsxs("option",{value:15,children:["15 ",t("availability.minutes")]}),e.jsxs("option",{value:30,children:["30 ",t("availability.minutes")]}),e.jsxs("option",{value:45,children:["45 ",t("availability.minutes")]}),e.jsxs("option",{value:60,children:["60 ",t("availability.minutes")]})]})]})]}),c&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 animate-fade-in ${c.type==="success"?"bg-green-500/10 border border-green-500/20 text-green-400":"bg-red-500/10 border border-red-500/20 text-red-400"}`,children:[c.type==="success"?e.jsx(Te,{className:"h-5 w-5"}):e.jsx(Me,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:c.text})]}),e.jsxs("div",{className:"flex gap-3 pt-4 mt-auto",children:[e.jsxs("button",{onClick:j,disabled:o,className:"flex-1 flex items-center justify-center gap-2 bg-gold-500 text-dark-900 py-3.5 rounded-xl font-bold hover:bg-gold-400 transition-all transform hover:scale-[1.02] disabled:opacity-50 disabled:hover:scale-100 shadow-lg shadow-gold-500/20",children:[o?e.jsx("span",{className:"animate-spin",children:"⌛"}):e.jsx(Mt,{className:"h-5 w-5"}),t(o?"availability.saving":"availability.saveChanges")]}),e.jsx("button",{onClick:N,disabled:o,className:"px-5 flex items-center justify-center gap-2 bg-dark-800 text-gray-400 border border-white/10 py-3.5 rounded-xl font-medium hover:bg-dark-700 hover:text-white transition-all disabled:opacity-50",title:t("availability.reset"),children:e.jsx(Dt,{className:"h-5 w-5"})})]})]})]})]}),e.jsxs("div",{className:"bg-blue-500/5 border border-blue-500/10 rounded-2xl p-6 flex gap-4 items-start",children:[e.jsx("div",{className:"bg-blue-500/10 p-2 rounded-lg shrink-0",children:e.jsx(Me,{className:"h-6 w-6 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-400 font-bold mb-2 text-lg",children:t("availability.infoTitle")}),e.jsxs("ul",{className:"text-blue-300/80 space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-blue-500/50"}),t("availability.info1")]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-blue-500/50"}),t("availability.info2")]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-blue-500/50"}),t("availability.info3")]})]})]})]})]})},Qs=({isOpen:t,onClose:s,onSuccess:a,services:r})=>{const{t:l,i18n:n}=P("admin"),i=n.language==="ar"?K:J,[o,x]=g.useState(!1),[c,y]=g.useState([]),[h,f]=g.useState(new Date),[w,j]=g.useState(""),[N,m]=g.useState([]),[p,v]=g.useState({fullName:"",phone:"0791125555",email:"",message:"",source:"phone",status:"confirmed"}),[Y,C]=g.useState({maxBookingDays:7});g.useEffect(()=>{(async()=>{try{const k=await S.get("/config");C(k.data)}catch(k){console.error("Failed to fetch salon config:",k)}})()},[]),g.useEffect(()=>{t&&(v({fullName:"",phone:"0791125555",email:"",message:"",source:"phone",status:"confirmed"}),y([]),f(new Date),j(""))},[t]),g.useEffect(()=>{if(!h){m([]);return}(async()=>{try{const k=D(h,"yyyy-MM-dd"),_=await S.get(`/availability/${k}`),{startTime:oe,endTime:z,slotDuration:ee,isClosed:R,bookedSlots:Z}=_.data;if(R){m([]);return}const te=[],[de,se]=oe.split(":").map(Number),[ce,L]=z.split(":").map(Number);let F=de*60+se;const W=ce*60+L,I=new Date,ae=D(h,"yyyy-MM-dd")===D(I,"yyyy-MM-dd"),V=I.getHours()*60+I.getMinutes();for(;F<W;){if(ae&&F<V){F+=ee;continue}const xe=Math.floor(F/60),me=F%60,re=`${String(xe).padStart(2,"0")}:${String(me).padStart(2,"0")}`;(!Z||!Z.includes(re))&&te.push(re),F+=ee}m(te)}catch(k){console.error("Failed to fetch availability",k),m([])}})()},[h]);const A=u=>{y(k=>k.includes(u)?k.filter(_=>_!==u):[...k,u])},d=()=>r.filter(u=>c.includes(u.id)).reduce((u,k)=>u+k.price,0),$=async u=>{if(u.preventDefault(),!h||!w||c.length===0){alert(l("modal.fillRequired"));return}x(!0);try{await S.post("/appointments",{...p,appointmentDate:D(h,"yyyy-MM-dd"),appointmentTime:w,services:c,totalPrice:d()}),a(),s()}catch(k){console.error("Booking failed",k),alert(l("modal.createError"))}finally{x(!1)}};return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm overflow-y-auto",children:e.jsxs("div",{className:"bg-dark-800 rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-white/10 shadow-2xl",children:[e.jsxs("div",{className:"sticky top-0 bg-dark-800 p-6 border-b border-white/10 flex justify-between items-center z-10",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:l("modal.createTitle")}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(q,{className:"h-6 w-6"})})]}),e.jsx("form",{onSubmit:$,className:"p-6 space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-gold-500 flex items-center gap-2",children:[e.jsx(we,{className:"h-5 w-5"})," ",l("modal.clientDetails")]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:[l("modal.fullName")," *"]}),e.jsx("input",{type:"text",required:!0,value:p.fullName,onChange:u=>v({...p,fullName:u.target.value}),className:"w-full bg-dark-900 border border-white/10 rounded-lg p-3 text-white focus:border-gold-500 focus:ring-1 focus:ring-gold-500 outline-none rtl:text-right",placeholder:l("modal.fullName")})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-1 flex items-center gap-1",children:[e.jsx(Q,{className:"h-3 w-3"})," ",l("modal.phone")]}),e.jsx("input",{type:"tel",value:p.phone,onChange:u=>v({...p,phone:u.target.value}),className:"w-full bg-dark-900 border border-white/10 rounded-lg p-3 text-white focus:border-gold-500 focus:ring-1 focus:ring-gold-500 outline-none rtl:text-right rtl:direction-ltr",placeholder:"0791125555"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-1 flex items-center gap-1",children:[e.jsx(ze,{className:"h-3 w-3"})," ",l("modal.email")]}),e.jsx("input",{type:"email",value:p.email,onChange:u=>v({...p,email:u.target.value}),className:"w-full bg-dark-900 border border-white/10 rounded-lg p-3 text-white focus:border-gold-500 focus:ring-1 focus:ring-gold-500 outline-none rtl:text-right",placeholder:l("modal.optional")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-gold-500 flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5"})," ",l("modal.bookingDetails")]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:[l("modal.source")," *"]}),e.jsxs("select",{value:p.source,onChange:u=>v({...p,source:u.target.value}),className:"w-full bg-dark-900 border border-white/10 rounded-lg p-3 text-white focus:border-gold-500 focus:ring-1 focus:ring-gold-500 outline-none rtl:text-right",children:[e.jsx("option",{value:"phone",children:"Telefon"}),e.jsx("option",{value:"walk_in",children:"Walk-in"}),e.jsx("option",{value:"whatsapp",children:"WhatsApp"}),e.jsx("option",{value:"instagram",children:"Instagram"}),e.jsx("option",{value:"facebook",children:"Facebook"}),e.jsx("option",{value:"other",children:"Altul"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:[l("modal.status")," *"]}),e.jsxs("select",{value:p.status,onChange:u=>v({...p,status:u.target.value}),className:"w-full bg-dark-900 border border-white/10 rounded-lg p-3 text-white focus:border-gold-500 focus:ring-1 focus:ring-gold-500 outline-none rtl:text-right",children:[e.jsx("option",{value:"confirmed",children:l("filters.confirmed")}),e.jsx("option",{value:"pending",children:l("filters.pending")})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:l("modal.message")}),e.jsx("textarea",{value:p.message,onChange:u=>v({...p,message:u.target.value}),className:"w-full bg-dark-900 border border-white/10 rounded-lg p-3 text-white focus:border-gold-500 focus:ring-1 focus:ring-gold-500 outline-none h-20 resize-none rtl:text-right",placeholder:l("modal.internalNotes")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-gold-500 flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"})," ",l("modal.services")," *"]}),e.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-60 overflow-y-auto pr-2",children:r.map(u=>e.jsxs("div",{onClick:()=>A(u.id),className:`p-3 rounded-lg border cursor-pointer transition-all flex justify-between items-center ${c.includes(u.id)?"bg-gold-500/10 border-gold-500":"bg-dark-900 border-white/10 hover:border-gold-500/50"}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${c.includes(u.id)?"text-gold-500":"text-white"}`,children:u.name}),e.jsxs("p",{className:"text-xs text-gray-400",children:[u.duration," min"]})]}),e.jsxs("p",{className:"font-bold text-white",children:[u.price," RON"]})]},u.id))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gold-500 flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"})," ",l("modal.dateAndTime")," *"]}),e.jsx("div",{className:"bg-dark-900 p-4 rounded-xl border border-white/10 flex justify-center",children:e.jsx(Oe,{mode:"single",selected:h,onSelect:f,locale:i,disabled:[{before:new Date},{after:new Date(new Date().setDate(new Date().getDate()+Y.maxBookingDays))}],modifiersClassNames:{selected:"bg-gold-500 text-dark-900 font-bold hover:bg-gold-400",today:"text-gold-500 font-bold"},className:"text-white",dir:n.language==="ar"?"rtl":"ltr"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4 text-gold-500"})," ",l("modal.availableHours")]}),h?N.length===0?e.jsx("p",{className:"text-red-400 text-sm",children:l("modal.noSlots")}):e.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-60 overflow-y-auto pr-2",children:N.map(u=>e.jsx("button",{type:"button",onClick:()=>j(u),className:`p-2 rounded text-sm font-medium transition-colors ${w===u?"bg-gold-500 text-dark-900":"bg-dark-900 text-gray-300 hover:bg-dark-700 border border-white/10"}`,children:u},u))}):e.jsx("p",{className:"text-gray-400 text-sm",children:l("modal.selectDateFirst")})]}),e.jsxs("div",{className:"bg-dark-900 p-4 rounded-xl border border-white/10 mt-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("span",{className:"text-gray-400",children:[l("modal.total"),":"]}),e.jsxs("span",{className:"text-2xl font-bold text-gold-500",children:[d()," RON"]})]}),e.jsx("button",{type:"submit",disabled:o||!h||!w||c.length===0,className:"w-full bg-gold-500 text-dark-900 py-3 rounded-lg font-bold hover:bg-gold-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?e.jsx(st,{className:"h-5 w-5 animate-spin"}):l("modal.createButton")})]})]})]})})]})}):null},Js=({appointment:t,services:s,onClose:a,onUpdateStatus:r})=>{const{t:l,i18n:n}=P("admin"),i=n.language==="ar"?K:J;if(!t)return null;const o=h=>h.map(f=>s.find(w=>w.id===f)?.name).filter(Boolean).join(", "),x=(h="web")=>{switch(h){case"web":return e.jsx(ve,{className:"h-4 w-4 text-blue-400"});case"phone":return e.jsx(Q,{className:"h-4 w-4 text-green-400"});case"whatsapp":return e.jsx(ie,{className:"h-4 w-4 text-green-500"});case"walk_in":return e.jsx(at,{className:"h-4 w-4 text-orange-400"});case"instagram":return e.jsx(De,{className:"h-4 w-4 text-pink-500"});default:return e.jsx(we,{className:"h-4 w-4 text-gray-400"})}},c=(h="web")=>{switch(h){case"web":return"Website";case"phone":return"Telefon";case"whatsapp":return"WhatsApp";case"walk_in":return"Walk-in";case"instagram":return"Instagram";case"facebook":return"Facebook";default:return h}},y=h=>{switch(h){case"confirmed":return"bg-green-500/20 text-green-400 border-green-500/30";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"cancelled":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-end rtl:justify-start",onClick:a,children:e.jsxs("div",{className:"bg-dark-800 w-full max-w-md h-full overflow-y-auto border-l border-white/10 rtl:border-l-0 rtl:border-r",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 bg-dark-900 border-b border-white/10 p-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:l("drawer.title")}),e.jsx("button",{onClick:a,className:"p-1 hover:bg-white/10 rounded transition-colors",children:e.jsx(q,{className:"h-5 w-5 text-gray-400"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2 block",children:l("drawer.status")}),e.jsx("div",{className:"flex gap-2",children:["pending","confirmed","cancelled"].map(h=>e.jsx("button",{onClick:()=>r(t.id,h),className:`flex-1 px-3 py-2 rounded text-xs font-medium border transition-colors ${t.status===h?y(h):"bg-dark-700 text-gray-400 border-white/10 hover:bg-dark-600"}`,children:l(h==="pending"?"filters.pending":h==="confirmed"?"filters.confirmed":"filters.cancelled")},h))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-1",children:[e.jsx(E,{className:"h-3 w-3"}),e.jsx("span",{className:"text-xs",children:l("drawer.date")})]}),e.jsx("p",{className:"text-sm font-medium text-white",children:D(new Date(t.appointmentDate),"dd MMM yyyy",{locale:i})})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-1",children:[e.jsx(O,{className:"h-3 w-3"}),e.jsx("span",{className:"text-xs",children:l("drawer.time")})]}),e.jsx("p",{className:"text-sm font-medium text-white",children:t.appointmentTime})]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3 space-y-2",children:[e.jsx("h3",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2",children:l("drawer.client")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-4 w-4 text-gold-500"}),e.jsx("span",{className:"text-sm text-white",children:t.fullName})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-gold-500"}),e.jsx("a",{href:`tel:${t.phone}`,className:"text-sm text-blue-400 hover:underline dir-ltr",children:t.phone})]}),t.email&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4 text-gold-500"}),e.jsx("a",{href:`mailto:${t.email}`,className:"text-sm text-blue-400 hover:underline",children:t.email})]})]}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsx("h3",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2",children:l("drawer.services")}),e.jsx("p",{className:"text-sm text-white",children:o(t.services)})]}),e.jsx("div",{className:"bg-dark-700 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(ct,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:l("drawer.total")})]}),e.jsxs("span",{className:"text-lg font-bold text-gold-500",children:[t.totalPrice," RON"]})]})}),e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsx("h3",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2",children:l("drawer.source")}),e.jsxs("div",{className:"flex items-center gap-2",children:[x(t.source),e.jsx("span",{className:"text-sm text-white",children:c(t.source)})]})]}),t.message&&e.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[e.jsx("h3",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2",children:l("drawer.message")}),e.jsx("p",{className:"text-sm text-gray-300",children:t.message})]}),e.jsxs("div",{className:"text-xs text-gray-500 text-center pt-2 border-t border-white/10",children:[l("drawer.created"),": ",D(new Date(t.createdAt),"dd MMM yyyy, HH:mm",{locale:i})]})]})]})})},ia=()=>{const{t}=P("admin"),s=Je(),[a,r]=g.useState([]),[l,n]=g.useState([]),[i,o]=g.useState([]),[x,c]=g.useState([]),[y,h]=g.useState(!0),[f,w]=g.useState(!1),[j,N]=g.useState(null),[m,p]=g.useState(!1),[v,Y]=g.useState("today"),[C,A]=g.useState(""),[d,$]=g.useState("all"),[u,k]=g.useState(""),[_,oe]=g.useState(D(new Date,"yyyy-MM-dd")),[z,ee]=g.useState(D(new Date,"yyyy-MM-dd")||"2025-12-06"),[R,Z]=g.useState(1),[te,de]=g.useState(1),[se,ce]=g.useState(0),L=g.useCallback(async()=>{try{console.log("Fetching appointments with params:",{currentPage:R,statusFilter:d,dateFilter:u}),h(!0);const b=new URLSearchParams({page:R.toString(),limit:"12",...d!=="all"&&{status:d},...u&&{date:u}}),H=await S.get(`/appointments?${b}`);console.log("Appointments response:",H.data),r(H.data.data||[]),de(H.data.pagination?.totalPages||1),ce(H.data.pagination?.totalItems||0)}catch(b){console.error("Failed to fetch appointments:",b),r([])}finally{h(!1)}},[R,d,u]),F=g.useCallback(async()=>{try{const b=await S.get("/services");o(b.data)}catch(b){console.error("Failed to fetch services:",b)}},[]),W=g.useCallback(async()=>{try{console.log("Fetching tasks for date:",_);const b=await S.get(`/appointments/tasks?date=${_}`);console.log("Tasks response:",b.data),c(b.data.tasks||[])}catch(b){console.error("Failed to fetch tasks:",b),c([])}},[_]),I=g.useCallback(async()=>{try{console.log("Fetching today appointments for:",z),w(!0);const b=await S.get(`/appointments?date=${z}&limit=100`);console.log("Today appointments response:",b.data),n(b.data.data||[])}catch(b){console.error("Failed to fetch today appointments:",b),n([])}finally{w(!1)}},[z]),ae=g.useCallback(async()=>{try{await S.get("/auth/me"),L(),F(),I()}catch(b){console.error("Auth check failed",b)}},[L,F,I]);g.useEffect(()=>{ae()},[ae]),g.useEffect(()=>{W()},[W]),g.useEffect(()=>{I()},[I]);const V=async(b,H)=>{try{await S.put(`/appointments/${b}/status`,{status:H}),L(),W(),I(),j&&j.id===b&&N({...j,status:H})}catch(Qe){console.error("Failed to update status:",Qe),alert(t("messages.updateError"))}},xe=async()=>{try{await S.post("/auth/logout"),s("/admin/login")}catch(b){console.error("Logout failed",b),s("/admin/login")}},me=a.filter(b=>C===""||b.fullName.toLowerCase().includes(C.toLowerCase())||b.phone.includes(C)),re={total:se,pending:a.filter(b=>b.status==="pending").length,confirmed:a.filter(b=>b.status==="confirmed").length};return e.jsxs(ks,{header:e.jsx(Ds,{activeView:v,setActiveView:Y,searchQuery:C,setSearchQuery:A,statusFilter:d,setStatusFilter:b=>{$(b),Z(1)},dateFilter:u,setDateFilter:b=>{k(b),Z(1)},onRefresh:()=>{L(),W(),I()},onLogout:xe,onNewAppointment:()=>p(!0),stats:re}),sidebar:e.jsx(Cs,{tasks:x,services:i,selectedDate:_,onDateChange:oe,onUpdateStatus:V,onViewDetails:N}),children:[v==="availability"?e.jsx(Gs,{}):v==="today"?e.jsx(Ms,{appointments:l,services:i,loading:f,selectedDate:z,onDateChange:ee,onStatusUpdate:V,onViewDetails:N}):e.jsx(Ts,{appointments:me,services:i,loading:y,currentPage:R,totalPages:te,totalItems:se,onPageChange:Z,onStatusUpdate:V,onViewDetails:N}),m&&e.jsx(Qs,{isOpen:m,onClose:()=>p(!1),onSuccess:()=>{L(),W(),I(),p(!1)},services:i}),j&&e.jsx(Js,{appointment:j,services:i,onClose:()=>N(null),onUpdateStatus:V})]})};export{ia as default};
