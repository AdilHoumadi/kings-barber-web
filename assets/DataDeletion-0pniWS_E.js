import{u as g,r as o,j as e,P as f}from"./index-B7kz_oqI.js";import{S as j}from"./SEO-C0qlsdXu.js";import{T as h,C as N,M as w}from"./trash-2-CnXwodL1.js";import{C as y}from"./circle-check-big-DH4AeSRx.js";import{M as D}from"./mail-CBev76nD.js";import{U as v}from"./user-DPiW9on2.js";const _="https://api.kingsbarber.ro/api",E=()=>{const{t}=g("common"),[a,d]=o.useState({email:"",phone:"",fullName:"",reason:""}),[c,m]=o.useState(!1),[x,r]=o.useState("idle"),[u,i]=o.useState(""),l=n=>{d(s=>({...s,[n.target.name]:n.target.value}))},b=async n=>{n.preventDefault(),m(!0),r("idle"),i("");try{const s=await fetch(`${_}/api/gdpr/deletion-request`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),p=await s.json();s.ok?(r("success"),d({email:"",phone:"",fullName:"",reason:""})):(r("error"),i(p.error||t("dataDeletion.error_generic")))}catch{r("error"),i(t("dataDeletion.error_generic"))}finally{m(!1)}};return e.jsxs("div",{className:"min-h-screen bg-dark-900",children:[e.jsx(j,{title:t("dataDeletion.seo_title"),description:t("dataDeletion.seo_desc"),canonical:"https://kingsbarber.ro/stergere-date"}),e.jsx("div",{className:"bg-dark-800 border-b border-white/10 py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-4 bg-red-500/10 rounded-full",children:e.jsx(h,{className:"h-10 w-10 text-red-500"})})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:t("dataDeletion.title")}),e.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:t("dataDeletion.subtitle")})]})}),e.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-white/10 mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:t("dataDeletion.info_title")}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:t("dataDeletion.info_text")})]}),x==="success"&&e.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-xl p-6 mb-8 flex items-start gap-4",children:[e.jsx(y,{className:"h-6 w-6 text-green-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-green-500 mb-1",children:t("dataDeletion.success_title")}),e.jsx("p",{className:"text-gray-300 text-sm",children:t("dataDeletion.success_text")})]})]}),x==="error"&&e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-6 mb-8 flex items-start gap-4",children:[e.jsx(N,{className:"h-6 w-6 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-red-500 mb-1",children:t("dataDeletion.error_title")}),e.jsx("p",{className:"text-gray-300 text-sm",children:u})]})]}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:[e.jsx(D,{className:"inline h-4 w-4 mr-2"}),t("dataDeletion.label_email")," *"]}),e.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:a.email,onChange:l,placeholder:t("dataDeletion.placeholder_email"),className:"w-full px-4 py-3 bg-dark-800 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gold-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300 mb-2",children:[e.jsx(f,{className:"inline h-4 w-4 mr-2"}),t("dataDeletion.label_phone")]}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:a.phone,onChange:l,placeholder:t("dataDeletion.placeholder_phone"),className:"w-full px-4 py-3 bg-dark-800 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gold-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-300 mb-2",children:[e.jsx(v,{className:"inline h-4 w-4 mr-2"}),t("dataDeletion.label_name")]}),e.jsx("input",{type:"text",id:"fullName",name:"fullName",value:a.fullName,onChange:l,placeholder:t("dataDeletion.placeholder_name"),className:"w-full px-4 py-3 bg-dark-800 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gold-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-300 mb-2",children:[e.jsx(w,{className:"inline h-4 w-4 mr-2"}),t("dataDeletion.label_reason")]}),e.jsx("textarea",{id:"reason",name:"reason",rows:4,value:a.reason,onChange:l,placeholder:t("dataDeletion.placeholder_reason"),className:"w-full px-4 py-3 bg-dark-800 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gold-500 focus:border-transparent transition-all resize-none"})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full py-4 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}),t("dataDeletion.submitting")]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"h-5 w-5"}),t("dataDeletion.submit_btn")]})}),e.jsx("p",{className:"text-gray-500 text-sm text-center",children:t("dataDeletion.privacy_note")})]})]})]})};export{E as default};
